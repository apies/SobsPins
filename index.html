<script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/2.0.3/jquery.min.js"></script>
<script src="http://ajax.cdnjs.com/ajax/libs/json2/20110223/json2.js"></script>
<script src="http://ajax.cdnjs.com/ajax/libs/underscore.js/1.5.2/underscore-min.js"></script>
<script src="http://cdnjs.cloudflare.com/ajax/libs/backbone.js/1.0.0/backbone-min.js"></script>
<script src="http://cdnjs.cloudflare.com/ajax/libs/handlebars.js/1.0.rc.2/handlebars.min.js"></script>


<style type="text/css">
/*  a.pinAnchor {
    background-position: 50% 50% 50% 50%
    background-repate

  }*/




  

  /*<a class="pinAnchor" href="http://pinterest.com/pin/create/button/?url={{postUrl}}&media={{escapedUrl}}&description={{altText}}" target="_blank"></a>*/

</style>

<script id="pinterestQLHImg"  type="text/x-handlebars-template" >
 

    <image class="pinMeImg" border = "0" src="{{imgUrl}}" width="{{width}}" height="{{height}}">
    <image class="pinMeBttn" src="http://passets-lt.pinterest.com/images/about/buttons/big-p-button.png" width=50px height=50px > 


</script>

<script id='mainApp' type='text/javascript'>
// Generated by CoffeeScript 1.6.3
(function() {
  window.SobsPinsApp = {};

  (function() {
    var pins,
      _this = this;
    SobsPinsApp.SobsPin = Backbone.Model.extend({
      sizeImage: function(width, height, newWidth) {
        var newHeight, ratio;
        ratio = height / width;
        return newHeight = ratio * newWidth;
      },
      pinterestLinkify: function() {
        return "http://pinterest.com/pin/create/button/?url=" + (this.model.get('postUrl')) + "&media=" + (this.model.get('escapedUrl')) + "&description=" + (this.model.get('read quietlikehorses.com!'));
      }
    });
    SobsPinsApp.ImgPinView = Backbone.View.extend({
      render: function() {
        var context, source, template;
        source = $('#pinterestQLHImg').html();
        template = Handlebars.compile(source);
        context = this.model.toJSON();
        $(this.el).html('');
        $(this.el).html(template(context));
        this.delegateEvents();
        return this;
      },
      events: {
        "hover": "pinMe",
        "click": "pinMe"
      },
      pinMe: function() {
        return alert('@model.pinterestLinkify()');
      }
    });
    pins = [];
    return SobsPinsApp.fetchPins = function() {
      return $('.separator > a').each(function() {
        var sobsPin;
        console.log(this.href);
        sobsPin = new SobsPinsApp.SobsPin({
          escapedUrl: encodeURIComponent(this.href),
          imgUrl: this.href,
          altText: "Alt Text Coming Soon!",
          postUrl: "www.quietlikehorses.com",
          height: $(this).children('img').height(),
          width: $(this).children('img').width()
        });
        console.log(sobsPin.toJSON());
        return new SobsPinsApp.ImgPinView({
          el: $(this),
          model: sobsPin
        }).render();
      });
    };
  })();

  $(document).ready(function() {
    return SobsPinsApp.fetchPins();
  });

}).call(this);

</script>
